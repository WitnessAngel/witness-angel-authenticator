
<ThinTwoLineAvatarIconListItem@TwoLineAvatarIconListItem>
    _height: dp(60)

<UserKeyStoreListItem@ThinTwoLineAvatarIconListItem>:
    text: app.tr._("Three-line item with avatar")
    secondary_text: app.tr._("Secondary text here")
    #tertiary_text: app.tr._("fit more text than usual")

    IconLeftWidget:
        icon: "account-box"


<MyContainer@IRightBodyTouch+MDRectangleFlatIconButton>:
    text: app.tr._("Find")
    icon: "file-find-outline"


<FolderKeyStoreListItem@ThinTwoLineAvatarIconListItem>:
    #_height: dp(60)

    text: app.tr._("Three-line item with avatar2")
    secondary_text: app.tr._("Secondary text here2")
    #tertiary_text: app.tr._("fit more text than usual2")

    on_size:
        self.ids._right_container.width = mycontainer.width
        self.ids._right_container.x = mycontainer.width
        self.ids._right_container.height = mycontainer.height
        #self.ids._right_container.x = mycontainer.width

    IconLeftWidget:
        icon: "folder"
    MyContainer:
        id: mycontainer




<IdentityManagementPanel@MDBoxLayout>:

    #  Fixme rename this name:
    name: "keygen_panel"
    orientation: "vertical"

    ScrollView:
        MDGridLayout:

            cols: 1

            MDToolbar:
                title: app.tr._("Manage KeyGuardian keyrings")
                right_action_items: [["refresh", lambda x: app.callback_2()], ["dots-vertical", lambda x: app.callback_1()]]

            ScrollView:
                id: table
                size_hint: 1, 0.3
                size_hint_max_y: dp(300)
                bar_width: 5
                bar_inactive_color: self.bar_color

                #MDList:
                #    padding:[20,0,0,0]
                #    id: scroll
                #    #bg_color: [1, 0, 0, 1]
                MDList:
                    id: scroll
                    #spacing: "12dp"
                    #overlay_color: app.overlay_color[:-1] + [.2]
                    #icon_bg_color: app.overlay_color
                    #on_selected: app.on_selected(*args)
                    #on_unselected: app.on_unselected(*args)
                    #on_selected_mode: app.set_selection_mode(*args)

            ScrollView:
                size_hint: 1, 0.7
                size_hint_max_y: dp(300)

                MDLabel:
                    padding: [10,10]
                    text: "MDLabel\nsdsdsdsdqsd\nqsdqsd\nqsdqsd\nqsdqsdqsd\nqsdqsds\nqsdqsdqd\nqsdqsdqsd\nsddazveg\nzerzerzero\njlfff\nzezerzer\naldjs\nzzzzzzzzzzz\naaaaaaaaaaa\nfffff\nsdkazhazkdz\nMDBOTTOM"

                    halign: "left"
                    valign: "top"
                    #theme_text_color: "Error"
                    md_bg_color: [1, 0, 0, 1]  #self.theme_cls.bg_dark

                    size_hint_y: None
                    text_size: self.width, None
                    height: self.texture_size[1]

    #canvas.before:
    #    Color:
    #        rgba: app.COLORS.DARKEST_BLUE
    #    Rectangle:
    #        pos: self.pos
    #        size: self.size

    #AnchorLayout:
    #    padding: [0,10]
    #    anchor_x: 'center'
    #    anchor_y: 'top'
    #    size_hint: 1, 0.3
    #    MDToolbar:
    #        title:"Select USB device to be initialized with crypto keys"
    #        size_hint: 1, 1
    #        #md_bg_color: app.COLORS.DARKEST_BLUE
    #        elevation: 2

    #GridLayout:
    #    cols:2
    #    rows: 3
    #    GridLayout:
    #        size_hint: 1, 1
    #        rows:5
    #        id: grid
    #        FloatLayout:  # what is this?
    #            pos:(20, 20)
    #            id: barProgressWIP
    #            size_hint: 1, 0.1

        #AnchorLayout:
        #    padding: [0, 20, 20, 0]
        #    size_hint: 0.5, 1

        #    Button:
        #        id: btn_refresh
        #        #background_color: app.COLORS.BUTTON_BACKGROUND
        #        #color: app.COLORS.DARKEST_BLUE
        #        text: "Refresh"
        #        size: 150, 50
        #        size_hint: None, None
        #        on_release:
        #            app.list_detected_devices()
        #    #MDRectangleFlatButton:
        #    #    text:"Hello, World"
        #    #    pos_hint: {"center_x": 0.5, "center_y": 0.5}

        #GridLayout:
        #    rows:3
        #    size_hint: 0.4, 0.3
        #    AnchorLayout:
        #        padding: [20,20]
        #        size_hint: 0.4, 0.3
        #        id: status_title_layout
        #    AnchorLayout:
        #        padding: [20,20]
        #        size_hint: 0.4, 0.3
        #        id: status_message_layout



<IdentitycreationPanel@BoxLayout>:

    GridLayout:
        rows: 2
        spacing: [20,250]

        GridLayout:
            cols:2
            spacing: [10,10]
            padding: [10,10]

            GridLayout:
                padding: [10, 10, 0, 0]
                spacing: [20,20]
                rows: 4

                MDTextField:
                    id: userfield
                    size_hint_x: -0.5
                    hint_text: 'Owner name'
                    #helper_text: 'Your own name'
                    #helper_text_mode: 'on_focus'
                    width: 50
                    height: 20
                    color_mode: 'custom'
                    #line_color_focus: app.COLORS.WHITE
                    mode: "fill"
                    disabled: True
                    #fill_color: app.COLORS.DARK_GREY
                    #current_hint_text_color: app.COLORS.WHITE

                MDTextField:
                    id: passphrasefield
                    size_hint_x: -0.5
                    hint_text: 'Passphrase'
                    #helper_text: 'Type a long sentence'
                    #helper_text_mode: 'on_focus'
                    width: 50
                    color_mode: 'custom'
                    #line_color_focus: app.COLORS.WHITE
                    mode: "fill"
                    disabled: True
                    #fill_color: app.COLORS.DARK_GREY
                    #current_hint_text_color: app.COLORS.WHITE

                MDTextField:
                    id: passphrasehintfield
                    size_hint_x: -0.5
                    hint_text: 'Passphrase hint'
                    #helper_text: 'Type a short hint'
                    #helper_text_mode: 'on_focus'
                    width: 50
                    color_mode: 'custom'
                    #line_color_focus: app.COLORS.WHITE
                    mode: "fill"
                    disabled: True
                    #fill_color: app.COLORS.DARK_GREY
                    #current_hint_text_color: app.COLORS.WHITE

                AnchorLayout:
                    size_hint: 1, 1

                    pos: 300,300

                    id: errors

            AnchorLayout:
                padding: [20,20]

                size_hint: 0.5, 0.9

                Button:
                    id: button_initialize
                    #background_color: app.COLORS.BUTTON_BACKGROUND
                    #color: app.COLORS.DARKEST_BLUE
                    text: "Initialize"
                    size: 150, 50
                    size_hint: None, None
                    disabled: True
                    on_release:
                        app.show_validate()

        MDProgressBar:
            padding: [20,200]
            id: barProgress
            value: 0



ScreenManager:

    Screen:
        name: "identity_management"
        IdentityManagementPanel:

    Screen:
        name: "identity_creation"
        IdentitycreationPanel:
